<h2 style="margin-bottom: 20px;">Generate Invoice</h2>

<form (ngSubmit)="generateInvoice()" #invoiceForm="ngForm"
      class="invoice-form"
      style="max-width: 600px; padding: 20px; border: 1px solid #ccc; border-radius: 10px; background-color: #f9f9f9;">

  <!-- Billing Details -->
  <div class="form-section" style="margin-bottom: 20px;">
    <label>Client Name</label>
    <input type="text" [(ngModel)]="invoiceData.clientName" name="clientName" required class="input" />

    <label>Street Address</label>
    <input type="text" [(ngModel)]="invoiceData.streetAddress" name="streetAddress" required class="input" />

    <label>City, State, Country</label>
    <input type="text" [(ngModel)]="invoiceData.cityStateCountry" name="cityStateCountry" required class="input" />

     <label>Zip Code</label>
      <input type="number"
             [(ngModel)]="invoiceData.zipCode"
             name="zipCode"
             required
             class="input"
             min="0"
             pattern="[0-9]*"
             title="Zip code must be numeric" />
    </div>

  <!-- Invoice Meta -->
  <div class="form-section" style="margin-bottom: 20px;">
    <label>Invoice Number</label>
    <input type="text" [(ngModel)]="invoiceData.invoiceNumber" name="invoiceNumber" required class="input" />

    <label>Date</label>
    <input type="date" [(ngModel)]="invoiceData.date" name="date" required class="input" />
  </div>

  <!-- Email Send Button -->
<!-- <button (click)="sendInvoiceEmail()">Send Invoice via Email</button> -->


  <!-- Items -->
  <h3 style="margin-top: 20px;">Items</h3>

  <div *ngFor="let item of invoiceData.items; let i = index"
       class="item-row"
       style="display: flex; gap: 10px; margin-bottom: 10px; align-items: center;">

    <div style="flex: 2;">
      <label>Item</label>
      <input type="text"
             [(ngModel)]="item.name"
             name="itemName{{i}}"
             required
             class="input"
             placeholder="Item name" />
    </div>

    <div style="flex: 1;">
      <label>Qty</label>
      <input type="number"
             [(ngModel)]="item.qty"
             name="qty{{i}}"
             required
             class="input"
             min="1" />
    </div>

    <div style="flex: 1;">
      <label>Price</label>
      <input type="number"
             [(ngModel)]="item.price"
             name="price{{i}}"
             required
             class="input"
             min="0" />
    </div>

    <!-- Remove Item -->
    <button type="button"
            (click)="removeItem(i)"
            style="background-color: #ff4d4d; color: white; border: none; padding: 4px 10px; border-radius: 4px; margin-top: 20px;">−</button>
  </div>

  <!-- Add Item Button -->
  <button type="button"
          (click)="addItem()"
          style="background-color: #4CAF50; color: white; border: none; padding: 8px 12px; border-radius: 5px; margin-top: 10px;">＋ Add Item</button>

  <br /><br />

  <!-- Submit -->
  <button type="submit"
          style="background-color: #007bff; color: white; padding: 10px 20px; border: none; border-radius: 6px;">
    Generate Invoice
  </button>


  <!-- Email Input -->
<!-- <div>
  <label>Email:</label>
  <input type="email" [(ngModel)]="clientEmail" name="clientEmail" required />
</div> -->

<!-- Client Name -->
<!-- <div>
  <label>Client Name:</label>
  <input type="text" [(ngModel)]="clientName" name="clientName" />
</div> -->

<!-- Send Button -->
<!-- <button (click)="sendInvoiceEmail()">Send Invoice via Email</button> -->

</form>
